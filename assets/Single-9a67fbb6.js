import{r as h,o as c,c as a,f as t,u as d,s as $,t as s,j as i,a as _,i as y,b as f,F as k,k as R,d as w,w as b,e as D,n as S,v as p,x,m as B,y as C,q as g,z as j,h as z}from"./index-31714621.js";const F={key:0,class:"single__wrapper"},A=["src"],I={class:"single__content"},L={class:"single__left"},N={class:"single__title"},U={class:"single__desc"},V={class:"single__about"},T={key:0},q={class:"single__right"},E=["src"],H={class:"single__block"},M=t("h3",{class:"single__subtitle"},"В главных ролях",-1),O={class:"single__actors"},Y={__name:"SingleContent",props:["current","type"],setup(e){return(o,l)=>{const r=h("Trailer"),u=h("Actors");return e.current?(c(),a("div",F,[t("img",{src:d($)+e.current.backdrop_path,alt:"",class:"single__bg"},null,8,A),t("div",I,[t("div",L,[t("h2",N,s(e.current.title||e.current.name),1),t("p",U,s(e.current.overview),1),t("p",V,[t("span",null,s(new Date(e.current.release_date||e.current.first_air_date).getFullYear())+", "+s(e.current.genres.map(n=>n.name).join(", ")),1),e.current.runtime?(c(),a("span",T,s(new Date(0,0,0,0,e.current.runtime).getHours())+"h "+s(new Date(0,0,0,0,e.current.runtime).getMinutes())+"m ",1)):i("",!0)]),_(r)]),t("div",q,[t("img",{src:d(y)+e.current.poster_path,alt:"",class:"single__img"},null,8,E)]),t("div",H,[M,t("div",O,[_(u,{type:e.type,id:e.current.id,count:"6"},null,8,["type","id"])])])])])):i("",!0)}}},G={key:0,class:"additional container"},J={key:0,class:"additional__card"},K=t("h4",null,"Бюджет",-1),P={key:1,class:"additional__card"},Q=t("h4",null,"Сборы",-1),W={key:2,class:"additional__card"},X=t("h4",null,"Статус",-1),Z={key:3,class:"additional__card"},ee=t("h4",null,"Исходное название",-1),te={__name:"Additional",props:{current:Object},setup(e){return(o,l)=>e.current?(c(),a("div",G,[e.current.budget?(c(),a("div",J,[K,t("p",null,"$"+s(e.current.budget.toLocaleString()),1)])):i("",!0),e.current.revenue?(c(),a("div",P,[Q,t("p",null,"$"+s(e.current.revenue.toLocaleString()),1)])):i("",!0),e.current.status?(c(),a("div",W,[X,t("p",null,s(e.current.status),1)])):i("",!0),e.current.original_title||e.current.original_name?(c(),a("div",Z,[ee,t("p",null,s(e.current.original_title||e.current.original_name),1)])):i("",!0)])):i("",!0)}},ne={key:0,class:"recommend container"},se={class:"recommend__title"},ce={class:"recommend__content"},re={__name:"Recommend",props:["getRecommend","type"],setup(e){return(o,l)=>{const r=h("router-link"),u=f("lazy");return e.getRecommend?(c(),a("div",ne,[t("h2",se,s(e.getRecommend.length?"Рекомендации":"Нет рекомендаций"),1),t("div",ce,[(c(!0),a(k,null,R(e.getRecommend,(n,m)=>(c(),w(r,{to:`/${e.type}/${n.id}`,key:n.id},{default:b(()=>[D(t("img",{alt:"",class:S(["recommend__img",{recommend__img_no:!n.poster_path}])},null,2),[[u,d(y)+n.poster_path]])]),_:2},1032,["to"]))),128))])])):i("",!0)}}},ae=p("recommend",{state:()=>({info:null}),actions:{async getRecommend(e,o){try{const r=await(await fetch(`https://api.themoviedb.org/3/${o}/${e}/recommendations?language=ru&page=1`,x)).json();this.info=r.results}catch(l){console.log(l)}}}}),oe={class:"single"},de={__name:"Single",props:{type:String},setup(e){const o=e;let l=B(),r=C(),u=ae(),n=g(()=>l.params.id);r.getDetails(n.value,o.type),u.getRecommend(n.value,o.type);let m=g(()=>r.info),v=g(()=>u.info);return j(()=>{r.info=null}),z(n,()=>{r.getDetails(n.value,o.type),u.getRecommend(n.value,o.type)}),(ie,le)=>(c(),a("div",oe,[_(Y,{current:d(m),type:e.type},null,8,["current","type"]),_(te,{current:d(m)},null,8,["current"]),_(re,{getRecommend:d(v),type:e.type},null,8,["getRecommend","type"])]))}};export{de as _};
